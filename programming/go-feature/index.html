<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Go语言特性 - Jekst</title><link rel=apple-touch-icon href=/images/favicons/apple-touch-icon.png sizes=180x180>
<link rel=icon href=/images/favicons/favicon-32x32.png sizes=32x32 type=image/png>
<link rel=icon href=/images/favicons/favicon-16x16.png sizes=16x16 type=image/png>
<link rel=manifest href=/images/favicons/manifest.json>
<link rel=icon href=/images/favicons/favicon.ico>
<meta name=keywords content>
<meta name=description content><meta itemprop=name content="Go语言特性">
<meta itemprop=description content="slice  每个切片都指向一个底层数组 每个切片都保存了当前切片的长度、底层数组可用容量 使用len()计算切片长度时间复杂度为O(1)，不需要遍历切片 使用cap()计算切片容量时间复杂度为O(1)，不需要遍历切片 通过函数传递切片时，不会拷贝整个切片，因为切片本身只是个结构体而矣 使用append()向切片追加元素时有可能触发扩容，扩容后将会生成新的切片  map  map是并发不安全的 map遍历的顺序不固定 从map读取一个不存在的key将不会引起panic  chan  关闭值为nil的channel会引发panic 关闭值为nil的channel会引发panic 向已经关闭的channel或者nil的channel写数据会引发panic 可以从关闭的channel中读数据  iota  iota在const关键字出现时被重置为0 const声明块中每新增一行iota值自增1  简单理解：iota代表了const声明块的行索引（下标从0开始）
defer  defer定义的延迟函数参数在defer语句出时就已经确定下来了 defer定义顺序与实际执行顺序相反 defer可以改变return返回值，执行过程是: 保存返回值(若有)—>执行 defer（若有）—>执行ret跳转 申请资源后立即使用defer关闭资源是好习惯  select  select语句中除default外，每个case操作一个channel，要么读要么写 select语句中除default外，各case执行顺序是随机的 select语句中如果没有default语句，则会阻塞等待任一case select语句中读操作要判断是否成功读取，关闭的channel也可以读  recover recover必须在defer中执行，并且不能在defer嵌套函数中 这样可以
1func main(){ 2	defer func () { 3	err:=recover() 4	}() 5	panic(&#34;some exception&#34;) 6} 7 嵌套不可以
1func main(){ 2	defer func () { 3	func(){ 4 err:=recover() 5 } 6	}() 7	panic(&#34;some exception&#34;) 8} 9 for range for range语句可以遍历数组、slice、map、chan"><meta itemprop=datePublished content="2021-08-29T13:23:24+08:00">
<meta itemprop=dateModified content="2021-08-29T13:23:24+08:00">
<meta itemprop=wordCount content="94">
<meta itemprop=keywords content="Golang,"><meta property="og:title" content="Go语言特性">
<meta property="og:description" content="slice  每个切片都指向一个底层数组 每个切片都保存了当前切片的长度、底层数组可用容量 使用len()计算切片长度时间复杂度为O(1)，不需要遍历切片 使用cap()计算切片容量时间复杂度为O(1)，不需要遍历切片 通过函数传递切片时，不会拷贝整个切片，因为切片本身只是个结构体而矣 使用append()向切片追加元素时有可能触发扩容，扩容后将会生成新的切片  map  map是并发不安全的 map遍历的顺序不固定 从map读取一个不存在的key将不会引起panic  chan  关闭值为nil的channel会引发panic 关闭值为nil的channel会引发panic 向已经关闭的channel或者nil的channel写数据会引发panic 可以从关闭的channel中读数据  iota  iota在const关键字出现时被重置为0 const声明块中每新增一行iota值自增1  简单理解：iota代表了const声明块的行索引（下标从0开始）
defer  defer定义的延迟函数参数在defer语句出时就已经确定下来了 defer定义顺序与实际执行顺序相反 defer可以改变return返回值，执行过程是: 保存返回值(若有)—>执行 defer（若有）—>执行ret跳转 申请资源后立即使用defer关闭资源是好习惯  select  select语句中除default外，每个case操作一个channel，要么读要么写 select语句中除default外，各case执行顺序是随机的 select语句中如果没有default语句，则会阻塞等待任一case select语句中读操作要判断是否成功读取，关闭的channel也可以读  recover recover必须在defer中执行，并且不能在defer嵌套函数中 这样可以
1func main(){ 2	defer func () { 3	err:=recover() 4	}() 5	panic(&#34;some exception&#34;) 6} 7 嵌套不可以
1func main(){ 2	defer func () { 3	func(){ 4 err:=recover() 5 } 6	}() 7	panic(&#34;some exception&#34;) 8} 9 for range for range语句可以遍历数组、slice、map、chan">
<meta property="og:type" content="article">
<meta property="og:url" content="/programming/go-feature/"><meta property="article:section" content="programming">
<meta property="article:published_time" content="2021-08-29T13:23:24+08:00">
<meta property="article:modified_time" content="2021-08-29T13:23:24+08:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Go语言特性">
<meta name=twitter:description content="slice  每个切片都指向一个底层数组 每个切片都保存了当前切片的长度、底层数组可用容量 使用len()计算切片长度时间复杂度为O(1)，不需要遍历切片 使用cap()计算切片容量时间复杂度为O(1)，不需要遍历切片 通过函数传递切片时，不会拷贝整个切片，因为切片本身只是个结构体而矣 使用append()向切片追加元素时有可能触发扩容，扩容后将会生成新的切片  map  map是并发不安全的 map遍历的顺序不固定 从map读取一个不存在的key将不会引起panic  chan  关闭值为nil的channel会引发panic 关闭值为nil的channel会引发panic 向已经关闭的channel或者nil的channel写数据会引发panic 可以从关闭的channel中读数据  iota  iota在const关键字出现时被重置为0 const声明块中每新增一行iota值自增1  简单理解：iota代表了const声明块的行索引（下标从0开始）
defer  defer定义的延迟函数参数在defer语句出时就已经确定下来了 defer定义顺序与实际执行顺序相反 defer可以改变return返回值，执行过程是: 保存返回值(若有)—>执行 defer（若有）—>执行ret跳转 申请资源后立即使用defer关闭资源是好习惯  select  select语句中除default外，每个case操作一个channel，要么读要么写 select语句中除default外，各case执行顺序是随机的 select语句中如果没有default语句，则会阻塞等待任一case select语句中读操作要判断是否成功读取，关闭的channel也可以读  recover recover必须在defer中执行，并且不能在defer嵌套函数中 这样可以
1func main(){ 2	defer func () { 3	err:=recover() 4	}() 5	panic(&#34;some exception&#34;) 6} 7 嵌套不可以
1func main(){ 2	defer func () { 3	func(){ 4 err:=recover() 5 } 6	}() 7	panic(&#34;some exception&#34;) 8} 9 for range for range语句可以遍历数组、slice、map、chan">
<meta data-name=palette content="blue"><link rel=preload href=/css/bundle.min.584ad61bfb9121e174610ca0716e7303fbd4708cb91ca3f4b802d8d6d4745f84.css integrity="sha256-WErWG/uRIeF0YQygcW5zA/vUcIy5HKP0uALY1tR0X4Q=" crossorigin=anonymous as=style onload="this.rel='stylesheet'">
<noscript><link rel=stylesheet href=/css/bundle.min.584ad61bfb9121e174610ca0716e7303fbd4708cb91ca3f4b802d8d6d4745f84.css integrity="sha256-WErWG/uRIeF0YQygcW5zA/vUcIy5HKP0uALY1tR0X4Q=" crossorigin=anonymous></noscript><script src=/js/bundle.min.363c0003fd4dc83d43b6e5f6d26613738781f3995a2f895af4a82c77f44ce9c7.js integrity="sha256-NjwAA/1NyD1DtuX20mYTc4eB85laL4la9Kgsd/RM6cc=" crossorigin=anonymous></script>
</head><body><header><nav class="navbar navbar-expand-xl fixed-top">
<div class=container>
<a class=navbar-brand href=/>
<img class=logo alt=Logo src=/images/logo.png width=128 height=128 loading=lazy>
Jekst</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-1 mb-2 mb-lg-0"><form class="search-bar d-flex ms-1" action=/search>
<div class="input-group input-group-sm">
<button class="btn btn-search disabled position-absolute left-0" type=submit aria-label=submit><i class="fas fa-fw fa-search"></i></button>
<input class="form-control rounded-pill" id=searchQuery name=q type=search aria-label=Search>
</div>
</form></ul><ul class="navbar-nav me-1 mb-2 mb-lg-0 me-1 ms-auto"><li class=nav-item>
<a class=nav-link href=/design-pattern/>
设计模式
</a>
</li><li class=nav-item>
<a class=nav-link href=/network/>
计算机网络
</a>
</li><li class=nav-item>
<a class=nav-link href=/os/>
操作系统
</a>
</li><li class=nav-item>
<a class=nav-link href=/programming/>
编程开发
</a>
</li><li class=nav-item>
<a class=nav-link href=/categories/>
分类
</a>
</li><li class=nav-item>
<a class=nav-link href=/archives/>
归档
</a>
</li><li class=nav-item>
<a class=nav-link data-bs-toggle=offcanvas href=#offcanvasSettings role=button aria-controls=offcanvasSettings>
<i class="fas fa-fw fa-sliders-h"></i> 设置
</a>
</li>
<div class="offcanvas offcanvas-end surface h-100" tabindex=-1 id=offcanvasSettings aria-labelledby=offcanvasSettingsLabel>
<div class=offcanvas-header>
<h5 class=offcanvas-title w id=offcanvasSettingsLabel><i class="fas fa-fw fa-sliders-h"></i> 设置</h5>
<a role=button data-bs-dismiss=offcanvas aria-label=Close>
<span class="fas fa-2x fa-fw fa-times"></span>
</a>
</div>
<div class=offcanvas-body><section class=setting>
<form class=row>
<div class=col-auto>
<label><i class="fas fa-fw fa-adjust"></i> 模式</label>
</div>
<div class="col-auto ms-auto">
<div class="form-check form-switch">
<input class=form-check-input type=checkbox id=modeSwitcher>
</div>
</div>
</form>
</section>
<section class=setting>
<form class="font-size-switcher-form row">
<div class=col-auto>
<label for=fontSize class=form-label><i class="fas fa-fw fa-font"></i> 字体大小</label>
</div>
<div class="col-auto ms-auto">
<input type=range class=form-range min=-2 max=2 id=fontSize>
</div>
</form>
</section>
<section class="setting palettes">
<form class=row>
<div class=col-auto>
<label><i class="fas fa-fw fa-palette"></i> 配色</label>
</div>
<div class="col-auto ms-auto">
<span id=btnPalette class="btn btn-sm"><i class="fas fa-eye-dropper"></i></span>
</div>
</form>
<div class="container mt-2 visually-hidden" id=palettePicker>
<div class=btn-group><button type=button id=palette-blue title=蓝色 class="btn btn-sm palette bg-blue d-flex align-items-center justify-content-center">
</button><button type=button id=palette-blue-gray title=蓝灰色 class="btn btn-sm palette bg-blue-gray d-flex align-items-center justify-content-center">
</button><button type=button id=palette-brown title=棕色 class="btn btn-sm palette bg-brown d-flex align-items-center justify-content-center">
</button><button type=button id=palette-cyan title=青色 class="btn btn-sm palette bg-cyan d-flex align-items-center justify-content-center">
</button><button type=button id=palette-green title=绿色 class="btn btn-sm palette bg-green d-flex align-items-center justify-content-center">
</button><button type=button id=palette-indigo title=靛青色 class="btn btn-sm palette bg-indigo d-flex align-items-center justify-content-center">
</button><button type=button id=palette-orange title=橙色 class="btn btn-sm palette bg-orange d-flex align-items-center justify-content-center">
</button><button type=button id=palette-pink title=粉色 class="btn btn-sm palette bg-pink d-flex align-items-center justify-content-center">
</button><button type=button id=palette-purple title=紫色 class="btn btn-sm palette bg-purple d-flex align-items-center justify-content-center">
</button><button type=button id=palette-red title=红色 class="btn btn-sm palette bg-red d-flex align-items-center justify-content-center">
</button><button type=button id=palette-teal title=蓝绿色 class="btn btn-sm palette bg-teal d-flex align-items-center justify-content-center">
</button><button type=button id=palette-yellow title=黄色 class="btn btn-sm palette bg-yellow d-flex align-items-center justify-content-center">
</button></button>
</div>
</div>
</section></div>
</div></ul>
</div>
</div>
</nav>
</header>
<main role=main class=container>
<div class="row content">
<div class=col-lg-8>
<div class=container><nav class=row aria-label=breadcrumb>
<ol class="breadcrumb surface"><li class=breadcrumb-item><a href=/>主页</a></li><li class=breadcrumb-item><a href=/programming/>编程开发</a></li><li class="breadcrumb-item active">Go语言特性</li></ol>
</nav><article class="post row surface"><div class=post-panel-wrapper>
<div class="post-panel d-flex flex-column">
</div>
</div>
<h1 class="post-title my-3">Go语言特性
</h1><div class="post-meta mb-3"><span class="post-date me-2">
<i class="fas fa-fw fa-calendar-alt"></i>2021-08-29
</span><span class="post-reading-time me-2">
<i class="fas fa-fw fa-coffee"></i>1 分钟阅读
</span><span class=post-taxonomies><a href=/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/ class=post-taxonomy>编程开发</a><a href=/tags/golang/ class=post-taxonomy>Golang</a></span>
</div>
<div class="post-content mb-3"><h4 id=slice>slice</h4>
<ul>
<li>每个切片都指向一个底层数组</li>
<li>每个切片都保存了当前切片的长度、底层数组可用容量</li>
<li>使用len()计算切片长度时间复杂度为O(1)，不需要遍历切片</li>
<li>使用cap()计算切片容量时间复杂度为O(1)，不需要遍历切片</li>
<li>通过函数传递切片时，不会拷贝整个切片，因为切片本身只是个结构体而矣</li>
<li>使用append()向切片追加元素时有可能触发扩容，扩容后将会生成新的切片</li>
</ul>
<h4 id=map>map</h4>
<ul>
<li>map是并发不安全的</li>
<li>map遍历的顺序不固定</li>
<li>从map读取一个不存在的key将不会引起panic</li>
</ul>
<h4 id=chan>chan</h4>
<ul>
<li>关闭值为nil的channel会引发panic</li>
<li>关闭值为nil的channel会引发panic</li>
<li>向已经关闭的channel或者nil的channel写数据会引发panic</li>
<li>可以从关闭的channel中读数据</li>
</ul>
<h4 id=iota>iota</h4>
<ul>
<li>iota在const关键字出现时被重置为0</li>
<li>const声明块中每新增一行iota值自增1</li>
</ul>
<p>简单理解：iota代表了const声明块的行索引（下标从0开始）</p>
<h4 id=defer>defer</h4>
<ul>
<li>defer定义的延迟函数参数在defer语句出时就已经确定下来了</li>
<li>defer定义顺序与实际执行顺序相反</li>
<li>defer可以改变return返回值，执行过程是: 保存返回值(若有)—>执行 defer（若有）—>执行ret跳转</li>
<li>申请资源后立即使用defer关闭资源是好习惯</li>
</ul>
<h4 id=select>select</h4>
<ul>
<li>select语句中除default外，每个case操作一个channel，要么读要么写</li>
<li>select语句中除default外，各case执行顺序是随机的</li>
<li>select语句中如果没有default语句，则会阻塞等待任一case</li>
<li>select语句中读操作要判断是否成功读取，关闭的channel也可以读</li>
</ul>
<h4 id=recover>recover</h4>
<p>recover必须在defer中执行，并且不能在defer嵌套函数中
这样可以</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>func main(){
<span class=ln>2</span>	defer func ()  {
<span class=ln>3</span>		err:=recover()
<span class=ln>4</span>	}()
<span class=ln>5</span>	panic(&#34;some exception&#34;)
<span class=ln>6</span>}
<span class=ln>7</span>
</code></pre></div><p>嵌套不可以</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=ln>1</span>func main(){
<span class=ln>2</span>	defer func ()  {
<span class=ln>3</span>		func(){
<span class=ln>4</span>            err:=recover()
<span class=ln>5</span>        }
<span class=ln>6</span>	}()
<span class=ln>7</span>	panic(&#34;some exception&#34;)
<span class=ln>8</span>}
<span class=ln>9</span>
</code></pre></div><h4 id=for-range>for range</h4>
<p>for range语句可以遍历数组、slice、map、chan</p>
<ul>
<li>遍历slice时，循环内可以改变切片的长度，不影响循环次数，循环次效在循环开始前就已经确定了</li>
<li>遍历chan时，chan关闭后会退出循环；如果channel中没有数据，可能会阻塞</li>
<li>遍历map时，遍历的顺序不固定，是随机的，循环内插入的数据不一定能遍历到，最好不要在遍历时对map进行写操作</li>
<li>使用index,value接收range返回值会发生一次数据拷贝，遍历过程中可以适情况放弃接收index或value，可以一定程度上提升性能。数组、slice可以放弃value，避免value拷贝。</li>
</ul>
<h4 id=golang中的引用类型>Golang中的引用类型</h4>
<ul>
<li>切片</li>
<li>map</li>
<li>channel</li>
<li>interface</li>
</ul>
<h4 id=golang中的指针运算>Golang中的指针运算</h4>
<ul>
<li>可以通过“&”取指针的地址</li>
<li>可以通过“*”取指针指向的数据</li>
</ul>
<h4 id=golang-main函数>Golang main函数</h4>
<ul>
<li>main函数不能带参数</li>
<li>main函数不能定义返回值</li>
<li>main函数所在的包必须为main包</li>
<li>main函数中可以使用flag包来获取和解析命令行参数</li>
</ul>
</div><hr><div class="post-navs d-flex mb-3 justify-content-between">
<div class="post-nav w-50"><div class="prev-post btn btn-sm">
<a href=/os/process-thread-coroutine/>进程、线程和协程
</a>
</div></div>
<div class="post-nav flex-row-reverse"><div class="next-post btn btn-sm">
<a href=/design-pattern/dp-principle/>设计模式6大原则
</a>
</div></div>
</div><section class=related-posts>
<h3>相关文章</h3>
<ul class=related-posts><li><a href=/os/process-thread-coroutine/>进程、线程和协程
</a></li></ul>
</section></article></div>
</div><aside class="col-lg-4 sidebar d-flex">
<div class=container><section class="recent-posts row surface">
<h4>最近文章</h4>
<ul><li><a href=/programming/brew/>Brew阿里源配置
</a></li><li><a href=/programming/docker-webservice/>Docker Webservice
</a></li><li><a href=/programming/docker-registry/>Docker阿里云镜像配置
</a></li><li><a href=/programming/gitconfig/>Git常用配置
</a></li><li><a href=/programming/goconfig/>Golang配置
</a></li></ul>
</section><section class="taxonomy-categories row surface">
<h4>
<a href=/categories>分类</a>
</h4>
<div><a href=/categories/%E7%BC%96%E7%A8%8B%E5%BC%80%E5%8F%91/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=编程开发>
编程开发 <span class="badge rounded-pill">7</span>
</a><a href=/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=计算机网络>
计算机网络 <span class="badge rounded-pill">3</span>
</a><a href=/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=操作系统>
操作系统 <span class="badge rounded-pill">1</span>
</a><a href=/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=设计模式>
设计模式 <span class="badge rounded-pill">1</span>
</a></div>
</section><section class="taxonomy-tags row surface">
<h4>
<a href=/tags>标签</a>
</h4>
<div><a href=/tags/docker/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=Docker>
Docker <span class="badge rounded-pill">3</span>
</a><a href=/tags/golang/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=Golang>
Golang <span class="badge rounded-pill">2</span>
</a><a href=/tags/http/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=HTTP>
HTTP <span class="badge rounded-pill">2</span>
</a><a href=/tags/brew/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=Brew>
Brew <span class="badge rounded-pill">1</span>
</a><a href=/tags/git/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=Git>
Git <span class="badge rounded-pill">1</span>
</a><a href=/tags/markdown/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=Markdown>
Markdown <span class="badge rounded-pill">1</span>
</a><a href=/tags/tcp/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=TCP>
TCP <span class="badge rounded-pill">1</span>
</a><a href=/tags/udp/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=UDP>
UDP <span class="badge rounded-pill">1</span>
</a><a href=/tags/zsh/ class="post-taxonomy rounded btn btn-sm me-2 mb-2" title=Zsh>
Zsh <span class="badge rounded-pill">1</span>
</a></div>
</section></div>
</aside>
</div>
</main><footer class="footer mt-auto py-3 text-center container"><div class="copyright mb-2">
Copyright © 2016-2021 Jekst. All Rights Reserved.
</div>
<div class="powered-by mb-2">
Powered by <a href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a> and the <a href=https://github.com/razonyang/hugo-theme-bootstrap target=_blank rel="noopener noreferrer">Bootstrap</a> theme.
</div></footer>
<a id=btnScrollToTop class=btn-scroll-to-top>
<i class="fas fa-fw fa-chevron-circle-up fa-2x"></i>
</a>
</body>
</html>